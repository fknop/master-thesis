% !TEX root = ../thesis.tex

\documentclass[../thesis.tex]{subfiles}
 
\begin{document}

In this thesis, we presented an optimization problem for production planning 
with resource allocation.

We introduced two models that try to solve
this problem: a Mixed Integer Programming and a Constraint Programming model.
The Constraint Programming model required the most work with custom heuristics that take into account knowledge of the problem.

The models were implemented in Scala using OscaR and Gurobi for the Constraint Programming and Mixed Integer Programming models respectively.

We tested our models on generated test instances of different sizes.
We also showed and discussed the results of these tests. We saw from these results that our Constraint Programming model greatly outperforms
its Mixed Integer Programming counterpart.
However, the Mixed Integer Programming model performs better in most cases when given an initial solution 
to work with.


Mixed Integer Programming is a great technique to solve combinatorial problems. However, most of our 
instances have too many variables for Mixed Integer Programming to handle.
On the other hand,
our Constraint Programming model contains more knowledge of the problem during the search. 
It allows us to implement custom heuristics such as the one presented in \autoref{section:cpmodel}. Hence, it manages to find 
better solutions faster. 

From the work presented in this thesis, we can conclude that Mixed Integer Programming and Constraint Programming both have their advantages and disadvantages.
MIP has the advantage of having its search algorithms already implemented in the solver (e.g. Gurobi). There is no need 
to implement additional heuristics which may be time consuming. However, this lack of knowledge about the problem makes 
it harder to find solutions on bigger instances. Implementing complex constraints also complicates the model making it harder to understand. 

The CP model offers a better expressiveness which makes it easier to understand. We can take advantage of the local search 
framework the explore more of the search space. However, finding optimal solutions with LNS becomes harder because of 
the nature of the search (i.e. restarts). CP with LNS is instead more efficient at finding good feasible solutions in a 
short amount of time.

By taking the fast good feasible solution property from CP and the good optimization property from MIP, we can combine these two 
search methods and gain from the advantages of both models.

Finally, we discuss in \ref{further-work} some improvements that could be made to our models and solvers.

\section{Further Work}
\label{further-work}

\paragraph{Contiguous Shifts for the CP model}: Our implementation of the contiguous shifts constraint only takes into account 
the number of different workers working for a position throughout the demand planning period.
We tested the implementation with real contiguous shifts with a decomposition of equality constraints. However, the results 
were disappointing as the decomposition slowed down the search. While our implementation gives us really good results for contiguous shifts,
we could replace our constraint by another soft global constraint that would be more efficient than 
a decomposition of equality constraints.

\paragraph{Generic resource allocation}: While our vehicle and machine resources could be replaced with 
any resources with a one to one and one to many relationship respectively, our implementation only allows to describe
machines by name. Our model preprocessing could be more complete to allow any properties on a resource.

\paragraph{Self-Adaptive LNS}: Our solver only uses one relaxation method during the search. 
Even though it already performs well, we could make 
use of the self-adaptive large neighborhood search \cite{thomas:adaptive} to dynamically 
and automatically change the relaxation method to the best available one during the search.
\end{document}

