% !TEX root = ../../thesis.tex

\documentclass[../../thesis.tex]{subfiles}
 
\begin{document}

\chapter{Mixed Integer Programming model}

\begingroup
\allowdisplaybreaks
\begin{subequations}
  \begin{align*}
    \textrm{min} \quad & \delta_0 \sum_{k \in D} \sum_{l \in d^P_k} \sum_{i \in W} min(\sum_{j \in T} w_{ijkl}, 1)  \\ 
      + \ & \delta_1 \sum_{r \in R} \big( max(r_{min} - occ_{r_{w}}, 0) + max(r_{max} - occ_{r_{w}}, 0) \big)   \\ 
      + \ &\delta_2 \sum_{j \in T}\sum_{k\in D}\sum_{l \in d^P_k} d_{jkl}  \\ 
     \textrm{with} \quad & occ_i = \sum_{j \in T} \sum_{k \in D} \sum_{l \in d^P_j} w_{ijkl}, \quad \forall i \in W  \nonumber \\ 
                         & \bm{\delta} = (\delta_0, \delta_1, \delta_2) \nonumber \\ 
                         & \bm{\delta} \in \mathbb{R}^3
  \end{align*}
\end{subequations}
\begin{align*}
    % \textrm{min} \quad & \sum_{k \in D} \sum_{l \in d^P_k} \sum_{i \in W} min(\sum_{j \in T} w_{ijkl}, 1) &+&  \sum_{j \in T}\sum_{k\in D}\sum_{l \in d^P_k} s_{jkl} \nonumber \\
    % & + \sum_{r \in R} \big( max(r_{min} - occ_{r_{w}}, 0) &+&   max(r_{max} - occ_{r_{w}}, 0) \big)  \label{obj} \\
    \textrm{s.t} \qquad & \sum_{i \in W} w_{ijkl} + d_{jkl} = 1, && \forall k \in D, j \in d_k^T, l \in d_k^P \\
    & \sum_{k \in D} \sum_{l \in d_k^P} w_{ijkl} \leq 1, && \forall i \in W, j \in T  \\
    & t_j \notin d^T_{k} \implies \forall i, l \ w_{ijkl} = 0,  && \forall j \in T , k \in D \\
    & t_j \notin w^T_{i} \implies \forall k, l \ w_{ijkl} = 0, && \forall j \in T, i \in W  \\ 
    & t_j \notin d^T_{k} \implies \forall l \ d_{jkl} = 0,  && \forall j \in T , k \in D  \\
    & t_j \notin w^T_{i} \implies \forall l \ d_{jkl} = 0, && \forall j \in T, i \in W  \\ 
    & \sum_{l \in d^P_k} w_{ajkl} + w_{bjkl} < 2, &&  \forall {(a, b) \in I_{ww}}, j \in T, k \in D \\
    & d^c_{k} = c \implies \forall l \ w_{ijkl} = 0, && \forall {(i, c) \in I_{wc}}, j \in T, k \in D  \\ 
    & w_{ijkl} = 0, && \forall j \in T, k \in D, l \in d^P_k,  \\
    & && i \in W \setminus W_{d^{s_l}_k} \\
    & \sum_{l \in d_k^P} w_{ijkl} \geq 1, && \forall j \in T, k \in D, s \in d^{S^+}_k, i \in W_{d^{S^+}_k}  \\
    & l_i \notin d^L_j \implies l_{ij} = 0, && \forall i \in L, j \in D   \\
    & |d^L_j| > 0 \implies \sum_{i \in L} l_{ij} = 1, && \forall j \in D \\
    & l_{ij} + l_{ik} \leq 1, && \forall j \in D, k \in d^O_j, i \in L \\
    & m_i \notin d^M_j \implies m_{ij} = 0, && \forall i \in M, j \in D   \\
    & \sum_{i \in M_k} m_{ij} = |d^{M_k}_j|, && j \in D, k \in d^M_j  \\
    & m_{ij} + m_{ik} \leq 1, && \forall j \in D, k \in d^O_j, i \in M  \\
    & w_{ijkl} \in \{0, 1\}, && \forall i \in W, j \in T, k \in D, l \in d^P_k  \\
    & d_{jkl} \in \{0, 1\}, && \forall j \in T, k \in D, l \in d^P_k  \\
    & m_{ij} \in \{0, 1\}, && \forall i \in M, j \in D  \\ 
    & l_{ij} \in \{0, 1\} && \forall i \in L, j \in D  
\end{align*}
\endgroup

\end{document}

